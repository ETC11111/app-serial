@import "tailwindcss";

/* Capacitor ì•±ì„ ìœ„í•œ Safe Area Insets ì ìš© */
:root {
  --safe-area-inset-top: env(safe-area-inset-top, 0px);
  --safe-area-inset-bottom: env(safe-area-inset-bottom, 0px);
  --safe-area-inset-left: env(safe-area-inset-left, 0px);
  --safe-area-inset-right: env(safe-area-inset-right, 0px);
  
  /* ì•ˆë“œë¡œì´ë“œ ìƒíƒœë°” ìµœì†Œ ë†’ì´ (ì¼ë°˜ì ìœ¼ë¡œ 24px) */
  --status-bar-height: 24px;
  
  /* ê°¤ëŸ­ì‹œ ì‹œìŠ¤í…œ ë„¤ë¹„ê²Œì´ì…˜ ë°” ë†’ì´ (ì¼ë°˜ì ìœ¼ë¡œ 48-56px) */
  --android-navbar-height: 56px;
  
  /* ì‹¤ì œ ì‚¬ìš©í•  ì•ˆì „í•œ ìƒë‹¨ ì—¬ë°± (ìƒíƒœë°” ë†’ì´ì™€ safe-area ì¤‘ í° ê°’) */
  --safe-top-padding: max(var(--safe-area-inset-top), var(--status-bar-height));
  
  /* ì‹¤ì œ ì‚¬ìš©í•  ì•ˆì „í•œ í•˜ë‹¨ ì—¬ë°± (ì‹œìŠ¤í…œ ë„¤ë¹„ê²Œì´ì…˜ ë°” ë†’ì´ì™€ safe-area ì¤‘ í° ê°’) */
  /* CSS ë³€ìˆ˜ì—ì„œëŠ” max()ë¥¼ ì§ì ‘ ì‚¬ìš©í•  ìˆ˜ ì—†ìœ¼ë¯€ë¡œ, ê° ì¼€ì´ìŠ¤ì—ì„œ ì§ì ‘ ê³„ì‚° */
}

/* ê¸°ë³¸ body ìŠ¤íƒ€ì¼ ì´ˆê¸°í™” */
body {
  margin: 0;
  padding: 0;
  overflow-x: hidden;
}

/* ì „ì²´ ì•± ì»¨í…Œì´ë„ˆ - Safe Area ë¯¸ì ìš© (í—¤ë”ê°€ ì§ì ‘ ê´€ë¦¬) */
#root {
  min-height: 100vh;
  background-color: #f9fafb;
  /* ìƒë‹¨ íŒ¨ë”©ì€ í—¤ë”ê°€ ê´€ë¦¬í•˜ë¯€ë¡œ ì œê±° */
  padding-top: 0;
  padding-bottom: var(--safe-area-inset-bottom);
  padding-left: var(--safe-area-inset-left);
  padding-right: var(--safe-area-inset-right);
}

/* Capacitor ì•±ì„ ìœ„í•œ ì¶”ê°€ ìŠ¤íƒ€ì¼ */
.safe-area-container {
  padding-top: env(safe-area-inset-top, 0px);
  padding-bottom: env(safe-area-inset-bottom, 0px);
  padding-left: env(safe-area-inset-left, 0px);
  padding-right: env(safe-area-inset-right, 0px);
}

/* z-index ê³„ì¸µ êµ¬ì¡° ì •ì˜ */
.z-45 {
  z-index: 45;
}

/* ëª¨ë°”ì¼ í—¤ë” ë° ì‚¬ì´ë“œë°” ìŠ¤íƒ€ì¼ */
@media (max-width: 768px) {
  /* ëª¨ë°”ì¼ í—¤ë” ê¸°ë³¸ ìŠ¤íƒ€ì¼ - z-index 50 (ìµœìƒìœ„) */
  .mobile-header {
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    z-index: 50;
    
    /* ë°°ê²½ ë° í…Œë‘ë¦¬ */
    background: rgba(255, 255, 255, 0.95);
    backdrop-filter: blur(10px);
    -webkit-backdrop-filter: blur(10px);
    border-bottom: 1px solid rgba(0, 0, 0, 0.1);
    box-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.1), 0 1px 2px 0 rgba(0, 0, 0, 0.06);
    
    /* ê¸°ë³¸ ìƒë‹¨ Safe Area ì ìš© */
    padding-top: var(--safe-area-inset-top);
  }
  
  /* Capacitor ì•± ì „ìš© í—¤ë” ìŠ¤íƒ€ì¼ */
  .mobile-header.capacitor-app {
    padding-top: max(env(safe-area-inset-top, 0px), 24px);
    background: rgba(255, 255, 255, 0.98);
  }
  
  /* ì•ˆë“œë¡œì´ë“œ ì „ìš© í—¤ë” ìŠ¤íƒ€ì¼ (ë” ê°•ë ¥í•œ ë³´ì •) */
  .mobile-header.android-app {
    padding-top: max(env(safe-area-inset-top, 0px), 24px);
    background: rgba(255, 255, 255, 0.98);
  }
  
  /* í—¤ë” ë‚´ë¶€ ì½˜í…ì¸  ê· í˜• ì¡°ì • */
  .mobile-header-content {
    min-height: 3.5rem;
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding: 0.75rem 1rem;
  }
  
  /* ğŸ”¥ ëª¨ë°”ì¼ ì‚¬ì´ë“œë°” - z-index 45 (í—¤ë” ì•„ë˜) */
  .mobile-sidebar {
    /* ìƒë‹¨ Safe Areaë§Œí¼ íŒ¨ë”© ì¶”ê°€ */
    padding-top: var(--safe-area-inset-top);
  }
  
  /* Capacitor/Android ì•±ì˜ ì‚¬ì´ë“œë°” */
  .mobile-sidebar.capacitor-app,
  .mobile-sidebar.android-app {
    padding-top: max(env(safe-area-inset-top, 0px), 24px);
  }
  
  /* ì‚¬ì´ë“œë°” í—¤ë” ì˜ì—­ */
  .mobile-sidebar-header {
    /* Safe Area íŒ¨ë”©ì´ ì´ë¯¸ ë¶€ëª¨ì— ì ìš©ë˜ì–´ ìˆìœ¼ë¯€ë¡œ ì¶”ê°€ íŒ¨ë”© ë¶ˆí•„ìš” */
    min-height: 4rem;
    display: flex;
    align-items: center;
  }
  
  /* ëª¨ë°”ì¼ ì½˜í…ì¸  ì˜ì—­ - í—¤ë” ë†’ì´ë§Œí¼ ì—¬ë°± ì¶”ê°€ */
  .mobile-content {
    /* í—¤ë” ë†’ì´(3.5rem) + Safe Area + ì¶”ê°€ ì—¬ë°± */
    padding-top: calc(var(--safe-top-padding) + 3.5rem + 0.5rem);
    /* í•˜ë‹¨ ë„¤ë¹„ê²Œì´ì…˜ ë°” ë†’ì´(4rem) + Safe Area + ì¶”ê°€ ì—¬ë°± */
    padding-bottom: calc(env(safe-area-inset-bottom, 0px) + 5rem);
    padding-left: 1rem;
    padding-right: 1rem;
  }
  
  /* Capacitor ì•±ì—ì„œ ì½˜í…ì¸  ì˜ì—­ ì¡°ì • */
  .capacitor-app .mobile-content,
  body.capacitor-app .mobile-content {
    padding-top: calc(max(env(safe-area-inset-top, 0px), 24px) + 3.5rem + 0.5rem);
    /* í•˜ë‹¨ ë„¤ë¹„ê²Œì´ì…˜ ë°” + Safe Area */
    padding-bottom: calc(max(env(safe-area-inset-bottom, 0px), 12px) + 4rem + 0.5rem);
  }
  
  /* ì•ˆë“œë¡œì´ë“œ ì•±ì—ì„œ ì½˜í…ì¸  ì˜ì—­ ì¡°ì • - ì •ê·œ ë°©ì‹ */
  .android-app .mobile-content,
  body.android-app .mobile-content {
    padding-top: calc(max(env(safe-area-inset-top, 0px), 24px) + 3.5rem + 0.5rem);
    /* í•˜ë‹¨ ë„¤ë¹„ê²Œì´ì…˜ ë°” ì „ì²´ ë†’ì´: 4rem (64px) + padding-bottom (max(env(safe-area-inset-bottom, 0px), 56px) + 12px)
     * ë³¸ë¬¸ ì˜ì—­ì€ í•˜ë‹¨ ë„¤ë¹„ê²Œì´ì…˜ ë°”ì˜ ì „ì²´ ë†’ì´ë§Œí¼ íŒ¨ë”©
     */
    padding-bottom: calc(4rem + max(env(safe-area-inset-bottom, 0px), 56px) + 12px) !important;
  }
  
  /* ì•ˆë“œë¡œì´ë“œ ì•± main íƒœê·¸ì—ë„ ì§ì ‘ ì ìš© */
  body.android-app main.mobile-content {
    padding-bottom: calc(4rem + max(env(safe-area-inset-bottom, 0px), 56px) + 12px) !important;
  }
  
  /* í•˜ë‹¨ ë„¤ë¹„ê²Œì´ì…˜ ë°” ê¸°ë³¸ ìŠ¤íƒ€ì¼ */
  .mobile-bottom-nav {
    position: fixed;
    bottom: 0;
    left: 0;
    right: 0;
    z-index: 50;
    
    /* ë°°ê²½ ë° í…Œë‘ë¦¬ */
    background: rgba(255, 255, 255, 0.95);
    backdrop-filter: blur(10px);
    -webkit-backdrop-filter: blur(10px);
    border-top: 1px solid rgba(0, 0, 0, 0.1);
    box-shadow: 0 -1px 3px 0 rgba(0, 0, 0, 0.1), 0 -1px 2px 0 rgba(0, 0, 0, 0.06);
    
    /* ê¸°ë³¸ í•˜ë‹¨ Safe Area ì ìš© */
    padding-bottom: var(--safe-area-inset-bottom);
  }
  
  /* Capacitor ì•± í•˜ë‹¨ ë„¤ë¹„ê²Œì´ì…˜ */
  .capacitor-app .mobile-bottom-nav,
  body.capacitor-app .mobile-bottom-nav {
    padding-bottom: max(env(safe-area-inset-bottom, 0px), 12px);
    background: rgba(255, 255, 255, 0.98);
  }
  
  /* ì•ˆë“œë¡œì´ë“œ í•˜ë‹¨ ë„¤ë¹„ê²Œì´ì…˜ - ì •ê·œ ë°©ì‹: padding-bottomìœ¼ë¡œ ì±„ìš°ë©´ì„œ ì˜¬ë¦¬ê¸° */
  .android-app .mobile-bottom-nav,
  body.android-app .mobile-bottom-nav {
    /* ì •ê·œ ë°©ì‹: bottomì€ 0ìœ¼ë¡œ ë‘ê³ , padding-bottomìœ¼ë¡œ ì‹œìŠ¤í…œ ë„¤ë¹„ê²Œì´ì…˜ ë°”ë¥¼ í”¼í•¨
     * í•˜ë‹¨ ë„¤ë¹„ê²Œì´ì…˜ ë°”ëŠ” í™”ë©´ í•˜ë‹¨ì— ë¶™ì–´ìˆì§€ë§Œ, ë‚´ë¶€ íŒ¨ë”©ìœ¼ë¡œ ì‹œìŠ¤í…œ ë„¤ë¹„ê²Œì´ì…˜ ë°” ìœ„ì— ì½˜í…ì¸  ë°°ì¹˜
     */
    bottom: 0;
    padding-bottom: calc(max(env(safe-area-inset-bottom, 0px), 56px) + 12px);
    background: rgba(255, 255, 255, 0.98);
  }
}

/* ë°ìŠ¤í¬í†±ì—ì„œëŠ” Safe Area ë¬´ì‹œ */
@media (min-width: 769px) {
  #root {
    padding: 0;
  }
}

/* í’€ìŠ¤í¬ë¦° ëª¨ë“œ ëŒ€ì‘ */
.fullscreen-mode {
  padding-top: 0 !important;
  padding-bottom: 0 !important;
}

.fullscreen-mode .mobile-header,
.fullscreen-mode .mobile-bottom-nav,
.fullscreen-mode .mobile-sidebar {
  display: none !important;
}

/* ìŠ¤í¬ë¡¤ ê°œì„  */
* {
  -webkit-overflow-scrolling: touch;
}

/* í„°ì¹˜ ì•¡ì…˜ ìµœì í™” */
button, a, [role="button"] {
  touch-action: manipulation;
}

/* ğŸ”¥ ì¶”ê°€: ë…¸ì¹˜/í€ì¹˜í™€ì´ ìˆëŠ” ê¸°ê¸° ëŒ€ì‘ */
@supports (padding: max(0px)) {
  @media (max-width: 768px) {
    .mobile-header {
      /* iOSì™€ ì•ˆë“œë¡œì´ë“œ ëª¨ë‘ ëŒ€ì‘ */
      padding-top: max(env(safe-area-inset-top), 24px);
    }
    
    .mobile-header.capacitor-app,
    .mobile-header.android-app {
      /* Capacitor/Android ì•±ì—ì„œ ë” í™•ì‹¤í•œ ì—¬ë°± */
      padding-top: max(env(safe-area-inset-top), 28px);
    }
    
    /* ì‚¬ì´ë“œë°”ë„ ë™ì¼í•˜ê²Œ */
    .mobile-sidebar.capacitor-app,
    .mobile-sidebar.android-app {
      padding-top: max(env(safe-area-inset-top), 28px);
    }
  }
}

/* ğŸ”¥ ì¶”ê°€: íŠ¹ì • ê¸°ê¸°ë³„ ì¶”ê°€ ë³´ì • */
/* ê°¤ëŸ­ì‹œ í´ë“œ, S ì‹œë¦¬ì¦ˆ ë“± ë…¸ì¹˜ê°€ í° ê¸°ê¸° */
@media (max-width: 768px) and (min-height: 700px) {
  .mobile-header.android-app {
    padding-top: max(env(safe-area-inset-top), 32px);
  }
  
  .mobile-sidebar.android-app {
    padding-top: max(env(safe-area-inset-top), 32px);
  }
  
  .android-app .mobile-content,
  body.android-app .mobile-content {
    padding-top: calc(max(env(safe-area-inset-top, 0px), 32px) + 3.5rem + 0.5rem);
  }
}

/* ğŸ”¥ í—¤ë”ê°€ ê³ ì •ëœ í˜ì´ì§€ì˜ ì½˜í…ì¸  ì¡°ì • */
.has-fixed-header {
  padding-top: 0 !important;
}

@media (max-width: 768px) {
  .has-fixed-header .mobile-content {
    padding-top: calc(var(--safe-top-padding) + 3.5rem + 0.5rem) !important;
  }
  
  .capacitor-app.has-fixed-header .mobile-content,
  .android-app.has-fixed-header .mobile-content {
    padding-top: calc(max(env(safe-area-inset-top, 0px), 28px) + 3.5rem + 0.5rem) !important;
  }
}